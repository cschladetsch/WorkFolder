#!/bin/bash
# Source this from your .bashrc file.

export WORK_BIN=/w/bin
export PATH=$PATH:$WORK_BIN

source $WORK_BIN/functions
source $WORK_BIN/aliases

# Create a gobal gitignore from the default if there isn't one.
if [ ! -f ~/.gitignore ]; then
	ln -s /w/doc/default/gitignore-global ~/.gitignore
fi

CLEAR='\[\e[0m\]'
YELLOW='\[\e[33m\]'
CYAN='\[\e[36m\]'
BRANCH='`__git_ps1`'
DIM='\[\e[2m\]'
LAMBDA='λ'
BOLD='\[\e[1m\]'
TITLE="\[\e]0;\w\a"
HIST='\!'
DIR='\w'
MAGENTA='\[\e[35m\]'
STATUS='$?'

export PS1="$TITLE$CLEAR\n$HIST $DIM$STATUS$CLEAR $YELLOW$DIR$CYAN$BRANCH$CLEAR\n$DIM$LAMBDA$CLEAR $BOLD"
export PS2='»»» '

export PATH=$PATH:'/c/Program Files (x86)/Microsoft Visual Studio/2017/Community/MSBuild/15.0/Bin/Roslyn'

echo_verbose 1 "Started Liminal"
echo

show-git-tip()
{
    IFS="=>"
    tip=`git-tip`
    title=`echo $tip | head -1`
    text=`echo $tip | tail -n +2`
    echo -e "\e[32m$title" >&2
    echo -e "\e[92m$text"
}

show-git-tip

run-git-help()
{
    eval `gt >&1`
}

alias gte=run-git-help



